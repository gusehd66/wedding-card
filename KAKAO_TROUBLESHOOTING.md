# 카카오톡 공유 링크 문제 완전 해결 가이드

## 현재 상태
- ✅ 코드: Vercel URL 사용 (`https://wedding-card-eight-kappa.vercel.app`)
- ✅ Open Graph 메타 태그: Vercel URL 설정됨
- ❌ 카카오톡 공유 시: GitHub 링크로 이동

## 확인해야 할 모든 항목

### 1. 카카오톡 개발자 콘솔 - 플랫폼 설정 ⭐ 가장 중요

**경로:** https://developers.kakao.com → 내 애플리케이션 → 앱 설정 → 플랫폼

#### Web 플랫폼 확인:
1. **사이트 도메인** 목록 확인
   - `gusehd66.github.io`가 있으면 **반드시 삭제**
   - `wedding-card-eight-kappa.vercel.app` 추가
   - 또는 `*.vercel.app` (와일드카드 사용)

2. **저장** 버튼 클릭

### 2. 카카오톡 개발자 콘솔 - 앱 키 확인

**경로:** 앱 설정 → 앱 키

1. **JavaScript 키** 확인: `51ce90a5a85c4e81932e03038c1559be`
2. 코드의 JavaScript 키와 일치하는지 확인

### 3. 카카오톡 개발자 콘솔 - 링크 검증 도구

**경로:** 도구 → 링크 검증

1. URL 입력: `https://wedding-card-eight-kappa.vercel.app/`
2. **검증** 버튼 클릭
3. 결과 확인:
   - `og:url`이 Vercel URL인지 확인
   - `og:image`가 Vercel URL인지 확인
4. **캐시 삭제** 버튼 클릭 (있다면)
5. **다시 검증** 클릭하여 캐시가 삭제되었는지 확인

### 4. 카카오톡 개발자 콘솔 - 앱 도메인 설정

**경로:** 앱 설정 → 일반

1. **앱 도메인** 확인
2. GitHub 도메인이 있다면 삭제
3. Vercel 도메인 추가 (필요시)

### 5. 브라우저에서 직접 확인

1. **Vercel 사이트 접속**
   - `https://wedding-card-eight-kappa.vercel.app/` 접속
   - 개발자 도구(F12) → Console 탭 열기

2. **카카오톡 공유하기 버튼 클릭**
   - 콘솔에 출력되는 로그 확인:
     - `카카오톡 공유 링크: https://wedding-card-eight-kappa.vercel.app`
     - `카카오톡 공유 데이터: {...}`

3. **공유 데이터의 link 확인**
   - `mobileWebUrl`과 `webUrl`이 Vercel URL인지 확인

### 6. 카카오톡 앱에서 확인

1. **카카오톡 앱 완전 종료**
   - 앱을 완전히 종료 (백그라운드에서도 제거)

2. **카카오톡 앱 재시작**

3. **새로운 링크로 공유**
   - Vercel 사이트에서 "카카오톡 공유하기" 클릭
   - **이전에 공유한 링크는 삭제**

4. **새로 공유한 링크 클릭**
   - 어떤 URL로 이동하는지 확인

### 7. 카카오톡 캐시 완전 삭제

카카오톡은 링크 정보를 서버에 캐시합니다:

1. **링크 검증 도구에서 캐시 삭제**
2. **24시간 대기** (카카오톡 캐시는 최대 24시간 유지)
3. **다시 테스트**

### 8. 코드에서 디버깅

브라우저 콘솔에서 확인:

```javascript
// 공유 버튼 클릭 시 콘솔에 출력되는 내용 확인
// shareData 객체의 link 속성이 정확한지 확인
```

## 추가 확인사항

### Vercel 배포 확인
1. Vercel 대시보드에서 최신 배포 확인
2. 배포된 코드가 최신인지 확인
3. 빌드 로그에서 에러 확인

### 네트워크 확인
1. 개발자 도구 → Network 탭
2. 카카오톡 공유 시 어떤 요청이 발생하는지 확인
3. 리다이렉트가 발생하는지 확인

## 최종 해결 방법

만약 위의 모든 방법을 시도했는데도 문제가 지속된다면:

1. **카카오톡 개발자 콘솔에서 앱 삭제 후 재생성** (극단적 방법)
2. **새로운 JavaScript 키로 재설정**
3. **코드에서 JavaScript 키 업데이트**

## 참고

- 카카오톡 링크 캐시는 최대 24시간 유지될 수 있습니다
- 설정 변경 후 즉시 반영되지 않을 수 있습니다
- 여러 기기에서 테스트해보세요

